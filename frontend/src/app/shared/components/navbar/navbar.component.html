<mat-toolbar color="primary" class="navbar">
  <div class="navbar-content">
    <!-- Logo i nazwa -->
    <div class="logo-section">
      <button mat-icon-button class="logo-button" routerLink="/browse">
        <mat-icon class="logo-icon">picture_as_pdf</mat-icon>
      </button>
      <span class="app-name" routerLink="/browse">PDF Manager</span>
    </div>

    <!-- Spacer -->
    <span class="spacer"></span>

    <!-- Menu nawigacyjne -->
    <div class="nav-menu" *ngIf="isAuthenticated">
      <!-- Przeglądaj (dla wszystkich) -->
      <button
        mat-button
        routerLink="/browse"
        routerLinkActive="active-link"
        class="nav-button"
      >
        <mat-icon>search</mat-icon>
        Przeglądaj
      </button>

      <!-- Upload (dla zalogowanych) -->
      <button
        mat-button
        routerLink="/upload"
        routerLinkActive="active-link"
        class="nav-button"
      >
        <mat-icon>cloud_upload</mat-icon>
        Wgraj dokument
      </button>

      <!-- Menu Admina (tylko dla admin) -->
      <button
        *ngIf="isAdmin"
        mat-button
        [matMenuTriggerFor]="adminMenu"
        class="nav-button"
      >
        <mat-icon>admin_panel_settings</mat-icon>
        Panel admina
        <mat-icon class="dropdown-icon">arrow_drop_down</mat-icon>
      </button>
      <mat-menu #adminMenu="matMenu">
        <button mat-menu-item routerLink="/admin/pending">
          <mat-icon>pending_actions</mat-icon>
          <span>Dokumenty do akceptacji</span>
        </button>
        <button mat-menu-item routerLink="/admin/tags">
          <mat-icon>label</mat-icon>
          <span>Zarządzanie tagami</span>
        </button>
      </mat-menu>

      <!-- User menu -->
      <button
        mat-button
        [matMenuTriggerFor]="userMenu"
        class="user-button"
      >
        <mat-icon>account_circle</mat-icon>
        <span class="user-email">{{ currentUser?.email }}</span>
        <mat-icon class="dropdown-icon">arrow_drop_down</mat-icon>
      </button>
      <mat-menu #userMenu="matMenu">
        <div class="user-info">
          <p class="user-info-email">{{ currentUser?.email }}</p>
          <p class="user-info-role">
            <mat-icon class="role-icon">
              {{ isAdmin ? 'admin_panel_settings' : 'person' }}
            </mat-icon>
            {{ isAdmin ? 'Administrator' : 'Użytkownik' }}
          </p>
        </div>
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>Wyloguj się</span>
        </button>
      </mat-menu>
    </div>

    <!-- Login button (dla niezalogowanych) -->
    <button
      *ngIf="!isAuthenticated"
      mat-raised-button
      color="accent"
      routerLink="/login"
    >
      <mat-icon>login</mat-icon>
      Zaloguj się
    </button>
  </div>
</mat-toolbar>
